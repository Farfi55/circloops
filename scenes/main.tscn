[gd_scene load_steps=25 format=3 uid="uid://b81y76g7kncpr"]

[ext_resource type="Script" uid="uid://diepx3fjvreu2" path="res://scripts/main.gd" id="1_sugp2"]
[ext_resource type="PackedScene" uid="uid://b4kb37dtyjyof" path="res://scenes/level_loader.tscn" id="2_jyhfs"]
[ext_resource type="PackedScene" uid="uid://db0yuxxpjun34" path="res://scenes/ui/ui.tscn" id="3_sugp2"]
[ext_resource type="PackedScene" uid="uid://ccinb35lqme1n" path="res://scenes/ring.tscn" id="5_o6xl0"]
[ext_resource type="PackedScene" uid="uid://rbx3r5qf2a31" path="res://scenes/player.tscn" id="5_tefeu"]
[ext_resource type="Texture2D" uid="uid://clrk1l1dstr4k" path="res://assets/gay_color_ramp.tres" id="6_choun"]
[ext_resource type="PackedScene" uid="uid://qrsttc5wma5m" path="res://scenes/stand.tscn" id="6_tefeu"]
[ext_resource type="Script" uid="uid://buy1ictyutirk" path="res://scripts/audio_stream_player.gd" id="7_o6xl0"]
[ext_resource type="Script" path="res://scripts/confetti_particles.gd" id="7_ya4ey"]
[ext_resource type="AudioStream" uid="uid://k3g41e78cdv8" path="res://assets/sfx/explosion_very_small_pop.mp3" id="8_eb6dy"]
[ext_resource type="AudioStream" uid="uid://bxxuy8s6qsgwp" path="res://assets/sfx/audio_hero_AmusementPark_DIGIG04-15.mp3" id="8_tipki"]
[ext_resource type="AudioStream" uid="uid://d2vvm4l5tncxq" path="res://assets/sfx/smartsound_HUMAN_CROWD_Applause_Small_Audience_Club_Front_01.mp3" id="9_85g3d"]
[ext_resource type="AudioStream" uid="uid://bt7xlyej2ojgj" path="res://assets/music/circus-music-loop-362929.mp3" id="10_a8y0u"]
[ext_resource type="Script" uid="uid://c87sq2bi156sb" path="res://scripts/ambience.gd" id="13_jkv2x"]
[ext_resource type="Script" path="res://scenes/play_on_level_complete.gd" id="13_trceg"]

[sub_resource type="Curve" id="Curve_a8y0u"]
_limits = [-360.0, 360.0, 0.0, 1.0]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_jkv2x"]
curve = SubResource("Curve_a8y0u")

[sub_resource type="Curve" id="Curve_85g3d"]
_data = [Vector2(0.541209, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -3.36842, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_choun"]
curve = SubResource("Curve_85g3d")

[sub_resource type="Curve" id="Curve_jbj1t"]
_limits = [0.0, 10.0, 0.0, 1.0]
_data = [Vector2(0, 10), 0.0, 0.0, 0, 0, Vector2(0.332418, 10), 0.0, 0.0, 0, 0, Vector2(0.725275, 2.45972), -5.91013, -5.91013, 0, 0, Vector2(1, 1.13319), -1.03729, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_muem4"]
curve = SubResource("Curve_jbj1t")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_ya4ey"]
lifetime_randomness = 0.2
angle_min = -179.1
angle_max = 161.2
direction = Vector3(0, 1, 0)
spread = 15.0
initial_velocity_min = 7.5
initial_velocity_max = 8.5
angular_velocity_min = -332.19
angular_velocity_max = 332.19
angular_velocity_curve = SubResource("CurveTexture_jkv2x")
orbit_velocity_min = 0.478
orbit_velocity_max = 1.901
velocity_limit_curve = SubResource("CurveTexture_muem4")
linear_accel_min = -4.0
linear_accel_max = -2.0
scale_min = 0.04
scale_max = 0.08
scale_curve = SubResource("CurveTexture_choun")
color_initial_ramp = ExtResource("6_choun")
turbulence_influence_min = 0.009
turbulence_influence_max = 0.009
turbulence_initial_displacement_min = -1.8
turbulence_initial_displacement_max = -1.8

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_eb6dy"]
shading_mode = 2
vertex_color_use_as_albedo = true
billboard_mode = 3
billboard_keep_scale = true
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="QuadMesh" id="QuadMesh_trceg"]
material = SubResource("StandardMaterial3D_eb6dy")

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 0
script = ExtResource("1_sugp2")

[node name="LevelLoader" parent="." instance=ExtResource("2_jyhfs")]

[node name="Game" type="Node3D" parent="."]

[node name="Player" parent="Game" instance=ExtResource("5_tefeu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.77653, 2.22035)
ring_scene = ExtResource("5_o6xl0")
ring_container_path = NodePath("../RingContainer")

[node name="Camera3D" parent="Game/Player" index="0"]
transform = Transform3D(1, 0, 0, 0, 0.957229, 0.289333, 0, -0.289333, 0.957229, 0, 0.211, -0.058)
fov = 28.7389

[node name="ThrowPlane" parent="Game/Player" index="1"]
transform = Transform3D(1, 0, 0, 0, 0.882439, -0.470427, 0, 0.470427, 0.882439, 0, -1.28238, -2.45822)
visible = false

[node name="RingContainer" type="Node3D" parent="Game"]
transform = Transform3D(0.999997, 0.00176252, -0.00153199, -0.00176232, 0.999998, 0.000128713, 0.00153222, -0.000126006, 0.999999, -0.00134277, 0.0184174, -0.00183105)

[node name="LevelContainer" type="Node3D" parent="Game"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.330646, -4.33479)

[node name="stand" parent="Game" instance=ExtResource("6_tefeu")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -1.884)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="Game"]
transform = Transform3D(0.709789, -0.251355, 0.658043, 0.0384475, 0.946601, 0.320106, -0.703364, -0.201908, 0.681551, 22, 11.9087, 0)
visible = false
light_color = Color(0.181679, 0.0441971, 0, 1)
light_energy = 0.557
light_indirect_energy = 0.788
shadow_enabled = true
sky_mode = 1

[node name="ConfettiParticles1" type="GPUParticles3D" parent="Game"]
transform = Transform3D(0.928733, 0.369515, -0.0302451, -0.353688, 0.858574, -0.371155, -0.11118, 0.355401, 0.928078, -2.91591, 0.941069, -5.69418)
emitting = false
amount = 100
lifetime = 1.91
one_shot = true
explosiveness = 0.93
randomness = 0.09
process_material = SubResource("ParticleProcessMaterial_ya4ey")
draw_pass_1 = SubResource("QuadMesh_trceg")
script = ExtResource("7_ya4ey")

[node name="ConfettiSFX" type="AudioStreamPlayer3D" parent="Game/ConfettiParticles1"]
stream = ExtResource("8_eb6dy")

[node name="ConfettiParticles2" type="GPUParticles3D" parent="Game"]
transform = Transform3D(-0.148863, -0.443414, -0.883869, -0.353688, 0.858574, -0.371155, 0.923442, 0.257363, -0.28464, 3.26052, 0.941069, -5.42751)
emitting = false
amount = 100
lifetime = 1.91
one_shot = true
explosiveness = 0.93
randomness = 0.09
process_material = SubResource("ParticleProcessMaterial_ya4ey")
draw_pass_1 = SubResource("QuadMesh_trceg")
script = ExtResource("7_ya4ey")
delay = 0.25

[node name="ConfettiSFX" type="AudioStreamPlayer3D" parent="Game/ConfettiParticles2"]
stream = ExtResource("8_eb6dy")

[node name="LevelTimer" type="Timer" parent="Game"]

[node name="UI" parent="." instance=ExtResource("3_sugp2")]

[node name="Audio" type="Node" parent="."]

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("10_a8y0u")
script = ExtResource("7_o6xl0")

[node name="Ambience" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("8_tipki")
volume_db = 2.773
autoplay = true
parameters/looping = true
script = ExtResource("13_jkv2x")

[node name="LevelCompleteSFX_1" type="AudioStreamPlayer" parent="Audio"]
stream = ExtResource("9_85g3d")
script = ExtResource("13_trceg")

[connection signal="finished" from="Audio/AudioStreamPlayer" to="Audio/AudioStreamPlayer" method="_on_finished"]

[editable path="Game/Player"]
